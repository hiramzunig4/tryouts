{"ast":null,"code":"var _jsxFileName = \"/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport api from \"./api\";\nimport Network from './Network';\nimport Database from './Database';\nimport Settings from './Settings';\nimport Login from './Login';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport { faUserCog } from '@fortawesome/free-solid-svg-icons';\nimport { faDatabase } from '@fortawesome/free-solid-svg-icons';\nimport { faLightbulb } from '@fortawesome/free-solid-svg-icons';\nimport { faSignInAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faLaptopCode } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Table from 'react-bootstrap/Table';\nimport Toast from 'react-bootstrap/Toast';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Container from 'react-bootstrap/Container';\nimport ToastContainer from 'react-bootstrap/ToastContainer';\n\nfunction App() {\n  useEffect(() => {\n    if (discoverOnload) {\n      buttonDiscoveryClick();\n    }\n  });\n  const [devices, setDevices] = useState([]);\n  const [discoverOnload, setDiscoverOnLoad] = React.useState(true);\n  const [showNetworkModal, setShowNetworkModal] = React.useState(false);\n  const [showDatabaseModal, setShowDatabaseModal] = React.useState(false);\n  const [showSettingsModal, setShowSettingsModal] = React.useState(false);\n  const [showLoginModal, setShowLoginModal] = React.useState(false);\n  const [showSpinner, setShowSpinner] = React.useState(\"visually-hidden\");\n  const [messageToToast, setMessageToToast] = React.useState(\"\");\n  const [toastColor, setToastColor] = React.useState(\"dark\");\n  const [showToast, setShowToast] = useState(false);\n  const [selectIpDevice, setSelectIpDevice] = React.useState(\"\");\n  const [selectMacDevice, setSelectMacDevice] = React.useState(\"\");\n  const [devicePass, setDevicePass] = React.useState(\"\");\n\n  function saveLocalStorage(res) {\n    //save devices with password\n    for (let i = 0; i <= res.length - 1; i++) {\n      //if device dont exist, save local storage\n      if (!localStorage.getItem(`${res[i].data.macaddr}`)) {\n        var passEncode = Buffer.from(`${res[i].data.macaddr}`).toString('base64');\n        localStorage.setItem(`${res[i].data.macaddr}`, passEncode);\n      }\n    }\n  }\n\n  function getPassFromLocalStorage(device) {\n    return localStorage.getItem(device);\n  }\n\n  function buttonDiscoveryClick() {\n    //onload\n    if (discoverOnload) {\n      setDiscoverOnLoad(false);\n    }\n\n    setShowSpinner(\"\");\n    api.getNetworkDiscover(function (res) {\n      console.log(JSON.stringify(res));\n      setShowSpinner(\"visually-hidden\");\n      saveLocalStorage(res);\n      setDevices(res);\n    });\n  }\n\n  function buttonBlinkClick(device) {\n    api.blinkNetworkDevice(function (res) {\n      console.log(JSON.stringify(res));\n      setTypeOfToast('dark', `Blink action sent to ${device.data.ipaddr}`);\n    }, device.data.ipaddr);\n  }\n\n  function buttonPingFromDiscover(device) {\n    var passEncode = getPassFromLocalStorage(device.data.macaddr);\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii');\n    api.getNetworkPing(function (res) {\n      console.log(res);\n\n      if (res.result === \"ok\") {\n        setTypeOfToast('dark', `Ping to ${device.data.ipaddr} success`);\n      } else {\n        setTypeOfToast('danger', `Ping to ${device.data.ipaddr} failed`);\n      }\n    }, device.data.ipaddr, \"nerves\", deviceLocal);\n  }\n\n  function buttonNetworkClick(device) {\n    setSelectIpDevice(device.data.ipaddr);\n    var passEncode = getPassFromLocalStorage(device.data.macaddr);\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii');\n    setDevicePass(deviceLocal);\n    setSelectMacDevice(device.data.macaddr);\n    setShowNetworkModal(true);\n  }\n\n  function buttonDatabaseClick(device) {\n    setSelectIpDevice(device.data.ipaddr);\n    var passEncode = getPassFromLocalStorage(device.data.macaddr);\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii');\n    setSelectMacDevice(device.data.macaddr);\n    setDevicePass(deviceLocal);\n    setShowDatabaseModal(true);\n  }\n\n  function buttonSettingsClick(device) {\n    setSelectIpDevice(device.data.ipaddr);\n    var passEncode = getPassFromLocalStorage(device.data.macaddr);\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii');\n    setDevicePass(deviceLocal);\n    setSelectMacDevice(device.data.macaddr);\n    setShowSettingsModal(true);\n  }\n\n  function buttonLoginClick(device) {\n    setSelectIpDevice(device.data.ipaddr);\n    var passEncode = getPassFromLocalStorage(device.data.macaddr);\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii');\n    setDevicePass(deviceLocal);\n    setSelectMacDevice(device.data.macaddr);\n    setShowLoginModal(true);\n  }\n\n  function buttonLogoutClick() {\n    localStorage.clear();\n  }\n\n  const rows = devices.map(device => /*#__PURE__*/React.createElement(\"tr\", {\n    key: device.data.macaddr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, device.data.hostname), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, device.data.macaddr), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, device.data.version), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, device.data.ipaddr), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonLoginClick(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSignInAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 87\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonPingFromDiscover(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faLaptopCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 93\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonBlinkClick(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faLightbulb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 87\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonSettingsClick(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUserCog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 90\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonNetworkClick(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 89\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonDatabaseClick(device),\n    variant: \"dark\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faDatabase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 90\n    }\n  })))));\n\n  function setTypeOfToast(color, message) {\n    setToastColor(color);\n    setMessageToToast(message);\n    setShowToast(true);\n  }\n\n  const toastMessages = (message, color) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ToastContainer, {\n      position: \"bottom-start\",\n      className: \"p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Toast, {\n      animation: true,\n      bg: color,\n      onClose: () => setShowToast(false),\n      show: showToast,\n      delay: 3000,\n      autohide: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"me-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    }, \"Just now\")), /*#__PURE__*/React.createElement(Toast.Body, {\n      className: \"text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, message))));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, toastMessages(messageToToast, toastColor), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"Laurel View Setup\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => buttonLogoutClick(),\n    variant: \"dark\",\n    size: \"sm\",\n    title: \"Logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSignOutAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 94\n    }\n  })), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    className: \"justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: buttonDiscoveryClick,\n    variant: \"dark\",\n    title: \"Discover Devices\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, \"Discovery\"))), /*#__PURE__*/React.createElement(Table, {\n    style: {\n      textAlign: \"center\"\n    },\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, \"Hostname\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"MAC Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, \"Version\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"IP Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, \"Ping\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, \"Blink\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"Settings\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, \"Network\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, \"Database\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, rows)), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    className: showSpinner,\n    animation: \"border\",\n    role: \"status\",\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, \" \"))), /*#__PURE__*/React.createElement(Network, {\n    show: showNetworkModal,\n    discovery: false,\n    onHide: () => {\n      setShowNetworkModal(false);\n      buttonDiscoveryClick();\n    },\n    device: selectIpDevice,\n    pass: devicePass,\n    mac: selectMacDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Database, {\n    show: showDatabaseModal,\n    onHide: () => {\n      setShowDatabaseModal(false);\n    },\n    device: selectIpDevice,\n    pass: devicePass,\n    mac: selectMacDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Settings, {\n    show: showSettingsModal,\n    onHide: () => {\n      setShowSettingsModal(false);\n    },\n    device: selectIpDevice,\n    pass: devicePass,\n    mac: selectMacDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Login, {\n    show: showLoginModal,\n    onHide: () => {\n      setShowLoginModal(false);\n    },\n    device: selectIpDevice,\n    pass: devicePass,\n    mac: selectMacDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/App.js"],"names":["React","useState","useEffect","api","Network","Database","Settings","Login","faCog","faUserCog","faDatabase","faLightbulb","faSignInAlt","faSignOutAlt","faLaptopCode","FontAwesomeIcon","Table","Toast","Button","Navbar","Spinner","Container","ToastContainer","App","discoverOnload","buttonDiscoveryClick","devices","setDevices","setDiscoverOnLoad","showNetworkModal","setShowNetworkModal","showDatabaseModal","setShowDatabaseModal","showSettingsModal","setShowSettingsModal","showLoginModal","setShowLoginModal","showSpinner","setShowSpinner","messageToToast","setMessageToToast","toastColor","setToastColor","showToast","setShowToast","selectIpDevice","setSelectIpDevice","selectMacDevice","setSelectMacDevice","devicePass","setDevicePass","saveLocalStorage","res","i","length","localStorage","getItem","data","macaddr","passEncode","Buffer","from","toString","setItem","getPassFromLocalStorage","device","getNetworkDiscover","console","log","JSON","stringify","buttonBlinkClick","blinkNetworkDevice","setTypeOfToast","ipaddr","buttonPingFromDiscover","deviceLocal","getNetworkPing","result","buttonNetworkClick","buttonDatabaseClick","buttonSettingsClick","buttonLoginClick","buttonLogoutClick","clear","rows","map","hostname","version","color","message","toastMessages","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport './App.css'\nimport api from \"./api\"\nimport Network from './Network'\nimport Database from './Database'\nimport Settings from './Settings'\nimport Login from './Login'\n\nimport { faCog } from '@fortawesome/free-solid-svg-icons'\nimport { faUserCog } from '@fortawesome/free-solid-svg-icons'\nimport { faDatabase } from '@fortawesome/free-solid-svg-icons'\nimport { faLightbulb } from '@fortawesome/free-solid-svg-icons'\nimport { faSignInAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faLaptopCode } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport Table from 'react-bootstrap/Table'\nimport Toast from 'react-bootstrap/Toast'\nimport Button from 'react-bootstrap/Button'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Container from 'react-bootstrap/Container'\nimport ToastContainer from 'react-bootstrap/ToastContainer'\n\nfunction App() {\n\n  useEffect(() => {\n    if (discoverOnload) {\n      buttonDiscoveryClick()\n    }\n  })\n\n  const [devices, setDevices] = useState([])\n  const [discoverOnload, setDiscoverOnLoad] = React.useState(true)\n  const [showNetworkModal, setShowNetworkModal] = React.useState(false)\n  const [showDatabaseModal, setShowDatabaseModal] = React.useState(false)\n  const [showSettingsModal, setShowSettingsModal] = React.useState(false)\n  const [showLoginModal, setShowLoginModal] = React.useState(false)\n  const [showSpinner, setShowSpinner] = React.useState(\"visually-hidden\")\n\n  const [messageToToast, setMessageToToast] = React.useState(\"\")\n  const [toastColor, setToastColor] = React.useState(\"dark\")\n  const [showToast, setShowToast] = useState(false);\n\n  const [selectIpDevice, setSelectIpDevice] = React.useState(\"\")\n  const [selectMacDevice, setSelectMacDevice] = React.useState(\"\")\n  const [devicePass, setDevicePass] = React.useState(\"\")\n\n  function saveLocalStorage(res) {\n    //save devices with password\n    for (let i = 0; i <= res.length - 1; i++) {\n      //if device dont exist, save local storage\n      if (!(localStorage.getItem(`${res[i].data.macaddr}`))) {\n        var passEncode = Buffer.from(`${res[i].data.macaddr}`).toString('base64')\n        localStorage.setItem(`${res[i].data.macaddr}`, passEncode)\n      }\n    }\n  }\n\n  function getPassFromLocalStorage(device) {\n    return localStorage.getItem(device)\n  }\n\n  function buttonDiscoveryClick() {\n    //onload\n    if (discoverOnload) {\n      setDiscoverOnLoad(false)\n    }\n    setShowSpinner(\"\")\n    api.getNetworkDiscover(function (res) {\n      console.log(JSON.stringify(res))\n      setShowSpinner(\"visually-hidden\")\n      saveLocalStorage(res)\n      setDevices(res)\n    })\n  }\n\n  function buttonBlinkClick(device) {\n    api.blinkNetworkDevice(function (res) {\n      console.log(JSON.stringify(res))\n      setTypeOfToast('dark', `Blink action sent to ${device.data.ipaddr}`)\n    }, device.data.ipaddr)\n  }\n\n\n  function buttonPingFromDiscover(device) {\n    var passEncode = getPassFromLocalStorage(device.data.macaddr)\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii')\n    api.getNetworkPing(function (res) {\n      console.log(res)\n      if (res.result === \"ok\") {\n        setTypeOfToast('dark', `Ping to ${device.data.ipaddr} success`)\n      }\n      else {\n        setTypeOfToast('danger', `Ping to ${device.data.ipaddr} failed`)\n      }\n    }, device.data.ipaddr, \"nerves\", deviceLocal)\n  }\n\n  function buttonNetworkClick(device) {\n    setSelectIpDevice(device.data.ipaddr)\n    var passEncode = getPassFromLocalStorage(device.data.macaddr)\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii')\n    setDevicePass(deviceLocal)\n    setSelectMacDevice(device.data.macaddr)\n    setShowNetworkModal(true)\n  }\n\n  function buttonDatabaseClick(device) {\n    setSelectIpDevice(device.data.ipaddr)\n    var passEncode = getPassFromLocalStorage(device.data.macaddr)\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii')\n    setSelectMacDevice(device.data.macaddr)\n    setDevicePass(deviceLocal)\n    setShowDatabaseModal(true)\n  }\n\n  function buttonSettingsClick(device) {\n    setSelectIpDevice(device.data.ipaddr)\n    var passEncode = getPassFromLocalStorage(device.data.macaddr)\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii')\n    setDevicePass(deviceLocal)\n    setSelectMacDevice(device.data.macaddr)\n    setShowSettingsModal(true)\n  }\n\n  function buttonLoginClick(device) {\n    setSelectIpDevice(device.data.ipaddr)\n    var passEncode = getPassFromLocalStorage(device.data.macaddr)\n    var deviceLocal = Buffer.from(passEncode, 'base64').toString('ascii')\n    setDevicePass(deviceLocal)\n    setSelectMacDevice(device.data.macaddr)\n    setShowLoginModal(true)\n  }\n\n  function buttonLogoutClick() {\n    localStorage.clear()\n  }\n\n  const rows = devices.map(device =>\n    <tr key={device.data.macaddr}>\n      <td>{device.data.hostname}</td>\n      <td>{device.data.macaddr}</td>\n      <td>{device.data.version}</td>\n      <td>{device.data.ipaddr}</td>\n      <td> <Button onClick={() => buttonLoginClick(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faSignInAlt} /></Button></td>\n      <td> <Button onClick={() => buttonPingFromDiscover(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faLaptopCode} /></Button></td>\n      <td> <Button onClick={() => buttonBlinkClick(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faLightbulb} /></Button></td>\n      <td> <Button onClick={() => buttonSettingsClick(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faUserCog} /></Button></td>\n      <td> <Button onClick={() => buttonNetworkClick(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faCog} /></Button></td>\n      <td> <Button onClick={() => buttonDatabaseClick(device)} variant=\"dark\" size=\"sm\"> <FontAwesomeIcon icon={faDatabase} /></Button></td>\n    </tr>\n  )\n\n  function setTypeOfToast(color, message) {\n    setToastColor(color)\n    setMessageToToast(message)\n    setShowToast(true)\n  }\n\n  const toastMessages = (message, color) => {\n    return (\n      <>\n        <ToastContainer position='bottom-start' className=\"p-3\">\n          <Toast animation={true} bg={color} onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n            <Toast.Header>\n              <strong className=\"me-auto\">Message</strong>\n              <small>Just now</small>\n            </Toast.Header>\n            <Toast.Body className='text-white'>{message}</Toast.Body>\n          </Toast>\n        </ToastContainer>\n      </>\n    )\n  }\n\n  return (\n    <Container>\n      {toastMessages(messageToToast, toastColor)}\n      <Navbar >\n        <Navbar.Brand>Laurel View Setup</Navbar.Brand>\n        <Button onClick={() => buttonLogoutClick()} variant=\"dark\" size=\"sm\" title=\"Logout\"> <FontAwesomeIcon icon={faSignOutAlt} /></Button>\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Button onClick={buttonDiscoveryClick} variant=\"dark\" title=\"Discover Devices\">Discovery</Button>\n        </Navbar.Collapse>\n      </Navbar>\n      <Table style={{ textAlign: \"center\" }} striped bordered hover>\n        <thead>\n          <tr>\n            <th>Hostname</th>\n            <th>MAC Address</th>\n            <th>Version</th>\n            <th>IP Address</th>\n            <th>Login</th>\n            <th>Ping</th>\n            <th>Blink</th>\n            <th>Settings</th>\n            <th>Network</th>\n            <th>Database</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </Table>\n      <Navbar >\n        <Navbar.Collapse className=\"justify-content-center\">\n          <Spinner className={showSpinner} animation=\"border\" role=\"status\" variant=\"dark\"> </Spinner>\n        </Navbar.Collapse>\n      </Navbar>\n      <Network\n        show={showNetworkModal}\n        discovery={false}\n        onHide={() => {\n          setShowNetworkModal(false)\n          buttonDiscoveryClick()\n        }}\n        device={selectIpDevice}\n        pass={devicePass}\n        mac={selectMacDevice}\n      />\n      <Database\n        show={showDatabaseModal}\n        onHide={() => {\n          setShowDatabaseModal(false)\n        }}\n        device={selectIpDevice}\n        pass={devicePass}\n        mac={selectMacDevice}\n      />\n      <Settings\n        show={showSettingsModal}\n        onHide={() => {\n          setShowSettingsModal(false)\n        }}\n        device={selectIpDevice}\n        pass={devicePass}\n        mac={selectMacDevice}\n      />\n      <Login\n        show={showLoginModal}\n        onHide={() => {\n          setShowLoginModal(false)\n        }}\n        device={selectIpDevice}\n        pass={devicePass}\n        mac={selectMacDevice}\n      />\n    </Container>\n  )\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}