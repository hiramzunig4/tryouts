{"ast":null,"code":"var _jsxFileName = \"/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js\";\nimport React, { useState } from 'react';\nimport api from \"./api\";\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Row from 'react-bootstrap/Row';\n\nfunction Database(props) {\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\"); //Alerts\n\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  function uploadFile(filename) {\n    if (filename) {\n      console.log(\"Apoco si la envio asi na mas el nombre se envia?\");\n      console.log(filename[0]);\n      api.stopApp(function (res) {\n        console.log(res);\n      }, props.device, \"nerves\", props.pass);\n      api.uploadFile(function (res) {\n        console.log(res);\n\n        if (res.result === \"ok\") {\n          setResponseString(`File Uploaded`);\n          setIsValid(true);\n          setTimeout(() => {\n            setIsValid(false);\n          }, 3000);\n        } else {\n          setResponseString(`File Upload Fail`);\n          setIsError(true);\n          setTimeout(() => {\n            setIsError(false);\n          }, 3000);\n        }\n      }, props.device, \"nerves\", props.pass, filename[0]);\n      api.startApp(function (res) {\n        console.log(res);\n      }, props.device, \"nerves\", props.pass);\n    } else {\n      console.log(\"El usuario cancelo la seleccion\");\n    }\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac);\n    api.startApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n  }\n\n  const hiddenFileInput = React.useRef(null);\n\n  const handleClick = event => {\n    hiddenFileInput.current.click();\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    backdrop: \"static\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Database\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    as: Col,\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    show: isValid,\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Alert, {\n    show: isError,\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, \"Upload\"), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"file\",\n    style: {\n      display: 'none'\n    },\n    text: \"Upload\",\n    ref: hiddenFileInput,\n    onChange: e => uploadFile(e.target.files),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: downloadFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, \"Backup \"))))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n}\n\nexport default Database;","map":{"version":3,"sources":["/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js"],"names":["React","useState","api","Col","Form","Alert","Modal","Button","Navbar","FormControl","Row","Database","props","responseString","setResponseString","isValid","setIsValid","isError","setIsError","uploadFile","filename","console","log","stopApp","res","device","pass","result","setTimeout","startApp","downloadFile","mac","hiddenFileInput","useRef","handleClick","event","current","click","display","e","target","files","onHide"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nimport api from \"./api\"\n\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Navbar from 'react-bootstrap/Navbar'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Row from 'react-bootstrap/Row'\n\nfunction Database(props) {\n\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\")\n\n  //Alerts\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  function uploadFile(filename) {\n    if (filename) {\n      console.log(\"Apoco si la envio asi na mas el nombre se envia?\")\n      console.log(filename[0])\n      api.stopApp(function (res) {\n        console.log(res)\n      }, props.device, \"nerves\", props.pass)\n      api.uploadFile(function (res) {\n        console.log(res)\n        if (res.result === \"ok\") {\n          setResponseString(`File Uploaded`)\n          setIsValid(true)\n          setTimeout(() => {\n            setIsValid(false)\n          }, 3000);\n        }\n        else {\n          setResponseString(`File Upload Fail`)\n          setIsError(true)\n          setTimeout(() => {\n            setIsError(false)\n          }, 3000);\n        }\n      }, props.device, \"nerves\", props.pass, filename[0])\n      api.startApp(function (res) {\n        console.log(res)\n      }, props.device, \"nerves\", props.pass)\n    }\n    else {\n      console.log(\"El usuario cancelo la seleccion\")\n    }\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac)\n    api.startApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n  }\n\n  const hiddenFileInput = React.useRef(null);\n\n  const handleClick = event => {\n    hiddenFileInput.current.click();\n  }\n\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      backdrop=\"static\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Database\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Navbar >\n          <Navbar.Collapse as={Col} className=\"justify-content-center\">\n            <Form>\n              <Alert show={isValid} variant=\"success\">\n                {responseString}\n              </Alert>\n              <Alert show={isError} variant=\"danger\">\n                {responseString}\n              </Alert>\n              <Row>\n                <Col>\n                  <Button variant=\"dark\" onClick={handleClick}>Upload</Button>\n                  <FormControl type=\"file\" style={{ display: 'none' }} text=\"Upload\" ref={hiddenFileInput} onChange={(e) => uploadFile(e.target.files)} />\n                </Col>\n                <Col>\n                  <Button variant=\"dark\" onClick={downloadFile}>Backup </Button>\n                </Col>\n              </Row>\n            </Form>\n          </Navbar.Collapse>\n        </Navbar>\n      </Modal.Body>\n      <Modal.Footer>\n\n        <Button variant=\"dark\" onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal >\n  );\n}\n\nexport default Database;"]},"metadata":{},"sourceType":"module"}