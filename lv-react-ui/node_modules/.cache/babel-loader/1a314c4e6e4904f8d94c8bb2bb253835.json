{"ast":null,"code":"var _jsxFileName = \"/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Network.js\";\nimport React, { useState } from 'react';\nimport api from './api';\nimport Validation from './Validation';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Modal from 'react-bootstrap/Modal';\nimport Stack from 'react-bootstrap/Stack';\nimport Button from 'react-bootstrap/Button';\n\nfunction Network(props) {\n  //radio selector\n  const [radioSelected, setRadioSelected] = React.useState(\"radiodhcp\");\n  const [stateRadioDhcp, setStateRadioDhcp] = React.useState(true);\n  const [stateRadioStatic, setStateRadioStatic] = React.useState(false); //disable componets\n\n  const [ipAddressDisabled, setIpAddressdDisabled] = React.useState(true);\n  const [gatewayDisabled, setGatewayDisabled] = React.useState(true);\n  const [netmaskDisabled, setNetmaskDisabled] = React.useState(true);\n  const [dnsPrimaryDisabled, setDnsPrimaryDisabled] = React.useState(true);\n  const [dnsSecondaryDisabled, setDnsSecondaryDisabled] = React.useState(true); //Errors\n\n  const [form, setForm] = useState({\n    address: \"\",\n    gateway: \"\",\n    netmask: \"255.255.255.0\",\n    dnsprimary: \"\",\n    dnssecondary: \"\"\n  });\n  const [errors, setErrors] = useState({\n    address: \"\",\n    gateway: \"\",\n    netmask: \"\",\n    dnsprimary: \"\",\n    dnssecondary: \"\"\n  }); //Response from yeico appliance\n\n  const [responseString, setResponseString] = React.useState(\"\"); //Alerts\n\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  function ButtonSelectRadio_Click(event) {\n    if (event.target.id === \"radiodhcp\") {\n      setStateRadioDhcp(true);\n      setStateRadioStatic(false);\n      setDisabledComponents(true);\n    } else {\n      setStateRadioDhcp(false);\n      setStateRadioStatic(true);\n      setDisabledComponents(false);\n    }\n\n    setRadioSelected(`${event.target.id}`);\n    console.log(radioSelected);\n  }\n\n  function setDisabledComponents(state) {\n    setIpAddressdDisabled(state);\n    setGatewayDisabled(state);\n    setNetmaskDisabled(state);\n    setDnsPrimaryDisabled(state);\n    setDnsSecondaryDisabled(state);\n  }\n\n  function parseIP(key) {\n    var addresswithpoints = `${JSON.stringify(key)}`.replace(/,/g, \".\");\n    return addresswithpoints.replace(/[[\\]']/g, \"\");\n  }\n\n  function validateIPaddress(ipaddress) {\n    if (/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  const setField = (field, value) => {\n    setForm({ ...form,\n      [field]: value\n    }); // Check and see if errors exist, and remove them from the error object:\n\n    if (!!errors[field]) setErrors({ ...errors,\n      [field]: null\n    });\n  };\n\n  const findFormErrors = () => {\n    const {\n      address,\n      gateway,\n      netmask,\n      dnsprimary,\n      dnssecondary\n    } = form;\n    const newErrors = {}; // name errors\n\n    if (!address || !validateIPaddress(address)) newErrors.address = 'IP has invalid format';\n    if (address === '') newErrors.address = 'This field is required';\n    if (!gateway || gateway === '' || !validateIPaddress(gateway)) newErrors.gateway = 'IP has invalid format';\n    if (!netmask || netmask === '' || !validateIPaddress(netmask)) newErrors.netmask = 'IP has invalid format';\n\n    if (dnsprimary) {\n      if (!dnsprimary || !validateIPaddress(dnsprimary)) newErrors.dnsprimary = 'IP has invalid format';\n    }\n\n    if (dnssecondary) {\n      if (!dnssecondary || !validateIPaddress(dnssecondary)) newErrors.dnssecondary = 'IP has invalid format';\n    }\n\n    return newErrors;\n  };\n\n  function ButtonGetNetworkConfig_Click() {\n    console.log(\"clicked in get config\");\n    api.getNetworkConfig(function (res) {\n      console.log(res);\n\n      if (res.result === \"ok\") {\n        if (res.message.config.ipv4.method === \"dhcp\") {\n          setRadioSelected(\"radiodhcp\");\n          form.address = \"\";\n          form.gateway = \"\";\n          form.dnsprimary = \"\";\n          form.dnssecondary = \"\";\n          setStateRadioDhcp(true);\n          setStateRadioStatic(false);\n          setDisabledComponents(true);\n        } else //is static\n          {\n            setRadioSelected(\"radiostatic\");\n            setStateRadioDhcp(false);\n            setStateRadioStatic(true);\n            setDisabledComponents(false);\n            var addressIp = \"\";\n\n            switch (res.message.config.ipv4.prefix_length) {\n              case 8:\n                addressIp = \"255.0.0.0\";\n                break;\n\n              case 16:\n                addressIp = \"255.255.0.0\";\n                break;\n\n              default:\n                addressIp = \"255.255.255.0\";\n            }\n\n            form.address = parseIP(res.message.config.ipv4.address);\n            form.gateway = parseIP(res.message.config.ipv4.gateway);\n            form.netmask = addressIp;\n\n            if (res.message.config.ipv4.name_servers.length === 0) {\n              form.dnsprimary = \"\";\n              form.dnssecondary = \"\";\n            }\n\n            if (res.message.config.ipv4.name_servers.length === 1) {\n              form.dnsprimary = parseIP(res.message.config.ipv4.name_servers[0]);\n              form.dnssecondary = \"\";\n            }\n\n            if (res.message.config.ipv4.name_servers.length === 2) {\n              form.dnsprimary = parseIP(res.message.config.ipv4.name_servers[0]);\n              form.dnssecondary = parseIP(res.message.config.ipv4.name_servers[1]);\n            }\n          }\n\n        setResponseString(`Get Config Success`);\n        setErrors({\n          address: \"\",\n          gateway: \"\",\n          netmask: \"\",\n          dnsprimary: \"\",\n          dnssecondary: \"\"\n        });\n        setIsValid(true);\n        setTimeout(() => {\n          setIsValid(false);\n        }, 3000);\n      } else {\n        //is error in the response\n        setResponseString(`Get Config Error`);\n        setErrors({\n          address: \"\",\n          gateway: \"\",\n          netmask: \"\",\n          dnsprimary: \"\",\n          dnssecondary: \"\"\n        });\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n        }, 3000);\n      }\n    }, props.device, \"nerves\", props.pass);\n  } //SetConfig\n\n\n  const ButtonSetNetworkConfig_Click = event => {\n    event.preventDefault(); //the config is static\n\n    console.log(`Esto es lo realmente seleccionado esta bieb? ${radioSelected}`);\n\n    if (radioSelected === \"radiostatic\") {\n      // get our new errors\n      const newErrors = findFormErrors(); // Conditional logic:\n\n      if (Object.keys(newErrors).length > 0) {\n        // We got errors!\n        setErrors(newErrors);\n      } else {\n        console.log(`\n              address: ${form.address}\n              gateway: ${form.gateway}\n              netmask: ${form.netmask}\n              server primary: ${form.dnsprimary}\n              server secondary: ${form.dnssecondary}\n            `);\n        var maskNodes = form.netmask.match(/(\\d+)/g);\n        var cidr = 0;\n\n        for (var i in maskNodes) {\n          cidr += ((maskNodes[i] >>> 0).toString(2).match(/1/g) || []).length;\n        }\n\n        var config = \"\";\n        var dnsserver = [];\n\n        if (!form.dnsprimary && !form.dnssecondary) {\n          config = {\n            \"method\": \"static\",\n            \"address\": `${form.address}`,\n            \"prefix_length\": cidr,\n            \"gateway\": `${form.gateway}`,\n            \"name_servers\": []\n          };\n        }\n\n        if (form.dnsprimary && !form.dnssecondary) {\n          dnsserver.push(`${form.dnsprimary}`);\n          config = {\n            \"method\": \"static\",\n            \"address\": `${form.address}`,\n            \"prefix_length\": cidr,\n            \"gateway\": `${form.gateway}`,\n            \"name_servers\": [`${dnsserver[0]}`]\n          };\n        }\n\n        if (!form.dnsprimary && form.dnssecondary) {\n          dnsserver.push(\"\");\n          dnsserver.push(`${form.dnssecondary}`);\n          config = {\n            \"method\": \"static\",\n            \"address\": `${form.address}`,\n            \"prefix_length\": cidr,\n            \"gateway\": `${form.gateway}`,\n            \"name_servers\": [`${dnsserver[0]}`, `${dnsserver[1]}`]\n          };\n        }\n\n        if (form.dnsprimary && form.dnssecondary) {\n          dnsserver.push(`${form.dnsprimary}`);\n          dnsserver.push(`${form.dnssecondary}`);\n          config = {\n            \"method\": \"static\",\n            \"address\": `${form.address}`,\n            \"prefix_length\": cidr,\n            \"gateway\": `${form.gateway}`,\n            \"name_servers\": [`${dnsserver[0]}`, `${dnsserver[1]}`]\n          };\n        }\n\n        console.log(JSON.stringify(config));\n        let result = Validation.validateNetConfig(config);\n        console.log(`Se imprime el result de la validacion que trae? ${JSON.stringify(result)}`);\n\n        if (result.count > 0) {\n          let error = `${Object.keys(result.errors)[0]}`;\n          console.log(`Esto contiene error ${error}`);\n\n          switch (error) {\n            case \"adddress\":\n              setErrors({\n                address: Object.values(result.errors)[0]\n              });\n              break;\n\n            case \"gateway\":\n              setErrors({\n                gateway: Object.values(result.errors)[0]\n              });\n              break;\n\n            case \"netmask\":\n              setErrors({\n                netmask: Object.values(result.errors)[0]\n              });\n              break;\n\n            case \"dnsprimary\":\n              setErrors({\n                dnsprimary: Object.values(result.errors)[0]\n              });\n              break;\n\n            case \"dnssecondary\":\n              setErrors({\n                dnssecondary: Object.values(result.errors)[0]\n              });\n              break;\n\n            default:\n              break;\n          }\n        } else {\n          api.setNetworkConfigStatic(result.input, function (res) {\n            console.log(`Esta es la respuesta del set static ${JSON.stringify(res)}`);\n\n            if (res.result === \"ok\") {\n              setResponseString(`Set Static Config Succes`);\n              setIsValid(true);\n              setTimeout(() => {\n                setIsValid(false);\n                form.address = \"\";\n                form.gateway = \"\";\n                form.dnsprimary = \"\";\n                form.dnssecondary = \"\";\n                props.onHide();\n              }, 3000);\n            } else {\n              setResponseString(`Set Static Config Error`);\n              setIsError(true);\n              setTimeout(() => {\n                setIsError(false);\n              }, 3000);\n            }\n          }, props.device, \"nerves\", props.pass);\n        }\n      }\n    } else {\n      console.log(radioSelected);\n      const config = {\n        \"method\": \"dhcp\"\n      };\n      let result = Validation.validateNetConfig(config);\n\n      if (result.count > 0) {\n        setResponseString(`Error in config`);\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n        }, 3000);\n      } else {\n        //FIXME when i send valid config the nervesbackdoor doesent response ok?, i think the response is in the new ip previously config\n        //i dont need to cath the response?\n        api.setNetworkConfigDhcp(result.input, function (res) {\n          console.log(res);\n\n          if (res.result === \"ok\") {\n            setResponseString(`Set DHCP Config Succes`);\n            setIsValid(true);\n            setTimeout(() => {\n              setIsValid(false);\n              form.address = \"\";\n              form.gateway = \"\";\n              form.dnsprimary = \"\";\n              form.dnssecondary = \"\";\n              props.onHide();\n            }, 3000);\n          } else {\n            setResponseString(`Set DHCP Config Error`);\n            setIsError(true);\n            setTimeout(() => {\n              setIsError(false);\n            }, 3000);\n          }\n        }, props.device, \"nerves\", props.pass);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    onAfterOpen: this.props.ButtonGetNetworkConfig_Click.bind,\n    size: \"lg\",\n    backdrop: \"static\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, \"Network Config\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    show: isValid,\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Alert, {\n    show: isError,\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    as: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: \"Obtain an IP address automatically\",\n    id: \"radiodhcp\",\n    onChange: ButtonSelectRadio_Click,\n    checked: stateRadioDhcp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    label: \"Use the following IP address:\",\n    id: \"radiostatic\",\n    onChange: ButtonSelectRadio_Click,\n    checked: stateRadioStatic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 25\n    }\n  }, \"IP Address\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"IP Address\",\n    onChange: e => setField('address', e.target.value),\n    isInvalid: !!errors.address,\n    disabled: ipAddressDisabled,\n    value: form.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 29\n    }\n  }, errors.address))), /*#__PURE__*/React.createElement(Form.Label, {\n    as: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 25\n    }\n  }, \"Select Netmask\"), /*#__PURE__*/React.createElement(Col, {\n    xs: 3,\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    //</Col>className=\"form-control-custom\" //makes gray the control\n    as: \"select\",\n    bsPrefix: \"form-select\",\n    value: form.netmask,\n    disabled: netmaskDisabled,\n    isInvalid: !!errors.netmask,\n    onChange: e => setField('netmask', e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"255.255.255.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 33\n    }\n  }, \"255.255.255.0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"255.255.0.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 33\n    }\n  }, \"255.255.0.0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"255.0.0.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 33\n    }\n  }, \"255.0.0.0\")), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 29\n    }\n  }, errors.netmask))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 25\n    }\n  }, \"Default Gateway\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"Gateway\",\n    value: form.gateway,\n    disabled: gatewayDisabled,\n    isInvalid: !!errors.gateway,\n    onChange: e => setField('gateway', e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 29\n    }\n  }, errors.gateway))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 25\n    }\n  }, \"Set DNS Servers:\")), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 25\n    }\n  }, \"Primary\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"Primary DNS\",\n    value: form.dnsprimary,\n    disabled: dnsPrimaryDisabled,\n    isInvalid: !!errors.dnsprimary,\n    onChange: e => setField('dnsprimary', e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 29\n    }\n  }, errors.dnsprimary))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"right\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 25\n    }\n  }, \"Secondary\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"Secondary DNS\",\n    value: form.dnssecondary,\n    disabled: dnsSecondaryDisabled,\n    isInvalid: !!errors.dnssecondary,\n    onChange: e => setField('dnssecondary', e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 29\n    }\n  }, errors.dnssecondary))), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: {\n      span: 10,\n      offset: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    direction: \"horizontal\",\n    gap: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: ButtonGetNetworkConfig_Click,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 17\n    }\n  }, \"Get Config\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: ButtonSetNetworkConfig_Click,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 17\n    }\n  }, \"Set Config\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }, \"Close\")));\n}\n\nexport default Network;","map":{"version":3,"sources":["/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Network.js"],"names":["React","useState","api","Validation","Col","Row","Form","Alert","Modal","Stack","Button","Network","props","radioSelected","setRadioSelected","stateRadioDhcp","setStateRadioDhcp","stateRadioStatic","setStateRadioStatic","ipAddressDisabled","setIpAddressdDisabled","gatewayDisabled","setGatewayDisabled","netmaskDisabled","setNetmaskDisabled","dnsPrimaryDisabled","setDnsPrimaryDisabled","dnsSecondaryDisabled","setDnsSecondaryDisabled","form","setForm","address","gateway","netmask","dnsprimary","dnssecondary","errors","setErrors","responseString","setResponseString","isValid","setIsValid","isError","setIsError","ButtonSelectRadio_Click","event","target","id","setDisabledComponents","console","log","state","parseIP","key","addresswithpoints","JSON","stringify","replace","validateIPaddress","ipaddress","test","setField","field","value","findFormErrors","newErrors","ButtonGetNetworkConfig_Click","getNetworkConfig","res","result","message","config","ipv4","method","addressIp","prefix_length","name_servers","length","setTimeout","device","pass","ButtonSetNetworkConfig_Click","preventDefault","Object","keys","maskNodes","match","cidr","i","toString","dnsserver","push","validateNetConfig","count","error","values","setNetworkConfigStatic","input","onHide","setNetworkConfigDhcp","bind","e","span","offset"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nimport api from './api'\nimport Validation from './Validation'\n\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport Modal from 'react-bootstrap/Modal'\nimport Stack from 'react-bootstrap/Stack'\nimport Button from 'react-bootstrap/Button'\n\nfunction Network(props) {\n    //radio selector\n    const [radioSelected, setRadioSelected] = React.useState(\"radiodhcp\")\n    const [stateRadioDhcp, setStateRadioDhcp] = React.useState(true)\n    const [stateRadioStatic, setStateRadioStatic] = React.useState(false)\n\n    //disable componets\n    const [ipAddressDisabled, setIpAddressdDisabled] = React.useState(true);\n    const [gatewayDisabled, setGatewayDisabled] = React.useState(true);\n    const [netmaskDisabled, setNetmaskDisabled] = React.useState(true);\n    const [dnsPrimaryDisabled, setDnsPrimaryDisabled] = React.useState(true);\n    const [dnsSecondaryDisabled, setDnsSecondaryDisabled] = React.useState(true);\n\n    //Errors\n    const [form, setForm] = useState({ address: \"\", gateway: \"\", netmask: \"255.255.255.0\", dnsprimary: \"\", dnssecondary: \"\" })\n    const [errors, setErrors] = useState({ address: \"\", gateway: \"\", netmask: \"\", dnsprimary: \"\", dnssecondary: \"\" })\n\n    //Response from yeico appliance\n    const [responseString, setResponseString] = React.useState(\"\")\n\n    //Alerts\n    const [isValid, setIsValid] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    function ButtonSelectRadio_Click(event) {\n        if (event.target.id === \"radiodhcp\") {\n            setStateRadioDhcp(true)\n            setStateRadioStatic(false)\n            setDisabledComponents(true)\n        }\n        else {\n            setStateRadioDhcp(false)\n            setStateRadioStatic(true)\n            setDisabledComponents(false)\n        }\n        setRadioSelected(`${event.target.id}`)\n        console.log(radioSelected)\n    }\n\n    function setDisabledComponents(state) {\n        setIpAddressdDisabled(state)\n        setGatewayDisabled(state)\n        setNetmaskDisabled(state)\n        setDnsPrimaryDisabled(state)\n        setDnsSecondaryDisabled(state)\n    }\n\n    function parseIP(key) {\n        var addresswithpoints = `${JSON.stringify(key)}`.replace(/,/g, \".\")\n        return addresswithpoints.replace(/[[\\]']/g, \"\")\n    }\n\n    function validateIPaddress(ipaddress) {\n        if (/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)) {\n            return (true)\n        }\n        return (false)\n    }\n\n    const setField = (field, value) => {\n        setForm({\n            ...form,\n            [field]: value\n        })\n        // Check and see if errors exist, and remove them from the error object:\n        if (!!errors[field]) setErrors({\n            ...errors,\n            [field]: null\n        })\n    }\n\n    const findFormErrors = () => {\n        const { address, gateway, netmask, dnsprimary, dnssecondary } = form\n        const newErrors = {}\n        // name errors\n        if (!address || !validateIPaddress(address)) newErrors.address = 'IP has invalid format'\n        if (address === '') newErrors.address = 'This field is required'\n        if (!gateway || gateway === '' || !validateIPaddress(gateway)) newErrors.gateway = 'IP has invalid format'\n        if (!netmask || netmask === '' || !validateIPaddress(netmask)) newErrors.netmask = 'IP has invalid format'\n        if (dnsprimary) {\n            if (!dnsprimary || !validateIPaddress(dnsprimary)) newErrors.dnsprimary = 'IP has invalid format'\n        }\n        if (dnssecondary) {\n            if (!dnssecondary || !validateIPaddress(dnssecondary)) newErrors.dnssecondary = 'IP has invalid format'\n        }\n        return newErrors\n    }\n\n    function ButtonGetNetworkConfig_Click() {\n        console.log(\"clicked in get config\");\n        api.getNetworkConfig(function (res) {\n            console.log(res)\n            if (res.result === \"ok\") {\n                if (res.message.config.ipv4.method === \"dhcp\") {\n                    setRadioSelected(\"radiodhcp\");\n                    form.address = \"\"\n                    form.gateway = \"\"\n                    form.dnsprimary = \"\"\n                    form.dnssecondary = \"\"\n                    setStateRadioDhcp(true)\n                    setStateRadioStatic(false)\n                    setDisabledComponents(true)\n                }\n                else //is static\n                {\n                    setRadioSelected(\"radiostatic\");\n                    setStateRadioDhcp(false)\n                    setStateRadioStatic(true)\n                    setDisabledComponents(false)\n\n                    var addressIp = \"\";\n                    switch (res.message.config.ipv4.prefix_length) {\n                        case 8:\n                            addressIp = \"255.0.0.0\"\n                            break;\n                        case 16:\n                            addressIp = \"255.255.0.0\"\n                            break;\n                        default:\n                            addressIp = \"255.255.255.0\"\n                    }\n                    form.address = parseIP(res.message.config.ipv4.address)\n                    form.gateway = parseIP(res.message.config.ipv4.gateway)\n                    form.netmask = addressIp\n                    if (res.message.config.ipv4.name_servers.length === 0) {\n                        form.dnsprimary = \"\"\n                        form.dnssecondary = \"\"\n                    }\n                    if (res.message.config.ipv4.name_servers.length === 1) {\n                        form.dnsprimary = parseIP(res.message.config.ipv4.name_servers[0])\n                        form.dnssecondary = \"\"\n                    }\n                    if (res.message.config.ipv4.name_servers.length === 2) {\n                        form.dnsprimary = parseIP(res.message.config.ipv4.name_servers[0])\n                        form.dnssecondary = parseIP(res.message.config.ipv4.name_servers[1])\n                    }\n                }\n                setResponseString(`Get Config Success`)\n                setErrors({ address: \"\", gateway: \"\", netmask: \"\", dnsprimary: \"\", dnssecondary: \"\" })\n                setIsValid(true)\n                setTimeout(() => {\n                    setIsValid(false)\n                }, 3000);\n            }\n            else { //is error in the response\n                setResponseString(`Get Config Error`)\n                setErrors({ address: \"\", gateway: \"\", netmask: \"\", dnsprimary: \"\", dnssecondary: \"\" })\n                setIsError(true)\n                setTimeout(() => {\n                    setIsError(false)\n                }, 3000);\n            }\n        }, props.device, \"nerves\", props.pass)\n    }\n\n    //SetConfig\n    const ButtonSetNetworkConfig_Click = (event) => {\n        event.preventDefault()\n        //the config is static\n        console.log(`Esto es lo realmente seleccionado esta bieb? ${radioSelected}`)\n        if (radioSelected === \"radiostatic\") {\n            // get our new errors\n            const newErrors = findFormErrors()\n            // Conditional logic:\n            if (Object.keys(newErrors).length > 0) {\n                // We got errors!\n                setErrors(newErrors)\n            }\n            else {\n\n                console.log(`\n              address: ${form.address}\n              gateway: ${form.gateway}\n              netmask: ${form.netmask}\n              server primary: ${form.dnsprimary}\n              server secondary: ${form.dnssecondary}\n            `)\n                var maskNodes = form.netmask.match(/(\\d+)/g);\n                var cidr = 0;\n                for (var i in maskNodes) {\n                    cidr += (((maskNodes[i] >>> 0).toString(2)).match(/1/g) || []).length;\n                }\n\n                var config = \"\"\n                var dnsserver = []\n                if (!form.dnsprimary && !form.dnssecondary) {\n                    config = {\n                        \"method\": \"static\",\n                        \"address\": `${form.address}`,\n                        \"prefix_length\": cidr,\n                        \"gateway\": `${form.gateway}`,\n                        \"name_servers\": []\n                    }\n                }\n                if (form.dnsprimary && !form.dnssecondary) {\n                    dnsserver.push(`${form.dnsprimary}`)\n                    config = {\n                        \"method\": \"static\",\n                        \"address\": `${form.address}`,\n                        \"prefix_length\": cidr,\n                        \"gateway\": `${form.gateway}`,\n                        \"name_servers\": [`${dnsserver[0]}`]\n                    }\n                }\n                if (!form.dnsprimary && form.dnssecondary) {\n                    dnsserver.push(\"\")\n                    dnsserver.push(`${form.dnssecondary}`)\n                    config = {\n                        \"method\": \"static\",\n                        \"address\": `${form.address}`,\n                        \"prefix_length\": cidr,\n                        \"gateway\": `${form.gateway}`,\n                        \"name_servers\": [`${dnsserver[0]}`, `${dnsserver[1]}`]\n                    }\n                }\n                if (form.dnsprimary && form.dnssecondary) {\n                    dnsserver.push(`${form.dnsprimary}`)\n                    dnsserver.push(`${form.dnssecondary}`)\n                    config = {\n                        \"method\": \"static\",\n                        \"address\": `${form.address}`,\n                        \"prefix_length\": cidr,\n                        \"gateway\": `${form.gateway}`,\n                        \"name_servers\": [`${dnsserver[0]}`, `${dnsserver[1]}`]\n                    }\n                }\n                console.log(JSON.stringify(config))\n                let result = Validation.validateNetConfig(config)\n                console.log(`Se imprime el result de la validacion que trae? ${JSON.stringify(result)}`)\n                if (result.count > 0) {\n                    let error = `${Object.keys(result.errors)[0]}`\n                    console.log(`Esto contiene error ${error}`)\n                    switch (error) {\n                        case \"adddress\":\n                            setErrors({ address: Object.values(result.errors)[0] })\n                            break\n                        case \"gateway\":\n                            setErrors({ gateway: Object.values(result.errors)[0] })\n                            break\n                        case \"netmask\":\n                            setErrors({ netmask: Object.values(result.errors)[0] })\n                            break\n                        case \"dnsprimary\":\n                            setErrors({ dnsprimary: Object.values(result.errors)[0] })\n                            break\n                        case \"dnssecondary\":\n                            setErrors({ dnssecondary: Object.values(result.errors)[0] })\n                            break\n                        default:\n                            break\n                    }\n                }\n                else {\n                    api.setNetworkConfigStatic(result.input, function (res) {\n                        console.log(`Esta es la respuesta del set static ${JSON.stringify(res)}`)\n                        if (res.result === \"ok\") {\n                            setResponseString(`Set Static Config Succes`)\n                            setIsValid(true)\n                            setTimeout(() => {\n                                setIsValid(false)\n                                form.address = \"\"\n                                form.gateway = \"\"\n                                form.dnsprimary = \"\"\n                                form.dnssecondary = \"\"\n                                props.onHide()\n                            }, 3000);\n\n                        }\n                        else {\n                            setResponseString(`Set Static Config Error`)\n                            setIsError(true)\n                            setTimeout(() => {\n                                setIsError(false)\n                            }, 3000);\n                        }\n                    }, props.device, \"nerves\", props.pass);\n                }\n            }\n        }\n        else {\n            console.log(radioSelected)\n            const config = {\n                \"method\": \"dhcp\"\n            }\n            let result = Validation.validateNetConfig(config)\n            if (result.count > 0) {\n                setResponseString(`Error in config`)\n                setIsError(true)\n                setTimeout(() => {\n                    setIsError(false)\n                }, 3000);\n            }\n            else {\n                //FIXME when i send valid config the nervesbackdoor doesent response ok?, i think the response is in the new ip previously config\n                //i dont need to cath the response?\n                api.setNetworkConfigDhcp(result.input, function (res) {\n                    console.log(res)\n                    if (res.result === \"ok\") {\n                        setResponseString(`Set DHCP Config Succes`)\n                        setIsValid(true)\n                        setTimeout(() => {\n                            setIsValid(false)\n                            form.address = \"\"\n                            form.gateway = \"\"\n                            form.dnsprimary = \"\"\n                            form.dnssecondary = \"\"\n                            props.onHide()\n                        }, 3000);\n                    }\n                    else {\n                        setResponseString(`Set DHCP Config Error`)\n                        setIsError(true)\n                        setTimeout(() => {\n                            setIsError(false)\n                        }, 3000);\n                    }\n                }, props.device, \"nerves\", props.pass);\n            }\n        }\n    }\n\n    return (\n        <Modal\n            {...props}\n            onAfterOpen={this.props.ButtonGetNetworkConfig_Click.bind}\n            size=\"lg\"\n            backdrop=\"static\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Network Config\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Alert show={isValid} variant=\"success\">\n                        {responseString}\n                    </Alert>\n                    <Alert show={isError} variant=\"danger\">\n                        {responseString}\n                    </Alert>\n                    <Form.Group className=\"mb-1\">\n                        <Form.Label as=\"legend\">\n                        </Form.Label>\n                        <Col align=\"left\">\n                            <Form.Check\n                                type=\"radio\"\n                                label=\"Obtain an IP address automatically\"\n                                id=\"radiodhcp\"\n                                onChange={ButtonSelectRadio_Click}\n                                checked={stateRadioDhcp}\n                            />\n                            <Form.Check\n                                type=\"radio\"\n                                label=\"Use the following IP address:\"\n                                id=\"radiostatic\"\n                                onChange={ButtonSelectRadio_Click}\n                                checked={stateRadioStatic}\n                            />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} className=\"mb-2\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            IP Address\n                        </Form.Label>\n                        <Col sm={8}>\n                            <Form.Control\n                                placeholder=\"IP Address\"\n                                onChange={e => setField('address', e.target.value)}\n                                isInvalid={!!errors.address}\n                                disabled={ipAddressDisabled}\n                                value={form.address}\n                            />\n                            <Form.Control.Feedback type='invalid'>{errors.address}</Form.Control.Feedback>\n                        </Col>\n                    </Form.Group>\n                    <Form.Label as=\"legend\">\n                    </Form.Label>\n                    <Form.Group as={Row} className=\"mb-3\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            Select Netmask\n                        </Form.Label>\n                        <Col xs={3} align=\"left\">\n                            <Form.Control\n                                //</Col>className=\"form-control-custom\" //makes gray the control\n                                as=\"select\"\n                                bsPrefix={\"form-select\"}\n                                value={form.netmask}\n                                disabled={netmaskDisabled}\n                                isInvalid={!!errors.netmask}\n                                onChange={e => setField('netmask', e.target.value)}\n                            >\n                                <option value=\"255.255.255.0\">255.255.255.0</option>\n                                <option value=\"255.255.0.0\">255.255.0.0</option>\n                                <option value=\"255.0.0.0\">255.0.0.0</option>\n                            </Form.Control>\n                            <Form.Control.Feedback type='invalid'>{errors.netmask}</Form.Control.Feedback>\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} className=\"mb-3\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            Default Gateway\n                        </Form.Label>\n                        <Col sm={8}>\n                            <Form.Control\n                                placeholder=\"Gateway\"\n                                value={form.gateway}\n                                disabled={gatewayDisabled}\n                                isInvalid={!!errors.gateway}\n                                onChange={e => setField('gateway', e.target.value)}\n                            />\n                            <Form.Control.Feedback type='invalid'>{errors.gateway}</Form.Control.Feedback>\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} className=\"mb-3\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            Set DNS Servers:\n                        </Form.Label>\n                    </Form.Group>\n\n                    <Form.Group as={Row} className=\"mb-3\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            Primary\n                        </Form.Label>\n                        <Col sm={8}>\n                            <Form.Control\n                                placeholder=\"Primary DNS\"\n                                value={form.dnsprimary}\n                                disabled={dnsPrimaryDisabled}\n                                isInvalid={!!errors.dnsprimary}\n                                onChange={e => setField('dnsprimary', e.target.value)}\n                            />\n                            <Form.Control.Feedback type='invalid'>{errors.dnsprimary}</Form.Control.Feedback>\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} className=\"mb-3\">\n                        <Form.Label align=\"right\" column sm={3}>\n                            Secondary\n                        </Form.Label>\n                        <Col sm={8}>\n                            <Form.Control\n                                placeholder=\"Secondary DNS\"\n                                value={form.dnssecondary}\n                                disabled={dnsSecondaryDisabled}\n                                isInvalid={!!errors.dnssecondary}\n                                onChange={e => setField('dnssecondary', e.target.value)}\n                            />\n                            <Form.Control.Feedback type='invalid'>{errors.dnssecondary}</Form.Control.Feedback>\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Stack direction=\"horizontal\" gap={3}>\n\n                            </Stack>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='dark' onClick={ButtonGetNetworkConfig_Click}>Get Config</Button>\n                <Button variant='dark' onClick={ButtonSetNetworkConfig_Click}>Set Config</Button>\n                <Button variant='dark' onClick={props.onHide}>Close</Button>\n            </Modal.Footer>\n        </Modal >\n    );\n}\n\nexport default Network;"]},"metadata":{},"sourceType":"module"}