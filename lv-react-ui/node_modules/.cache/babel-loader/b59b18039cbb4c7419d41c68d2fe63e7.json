{"ast":null,"code":"var _jsxFileName = \"/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js\";\nimport React, { useState } from 'react';\nimport api from \"./api\";\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar';\nimport FormControl from 'react-bootstrap/FormControl';\n\nfunction Database(props) {\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\"); //Alerts\n\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const state = {\n    fileUploadState: \"\"\n  };\n\n  function uploadFile(filename) {\n    console.log(\"Apoco si la envio asi na mas el nombre se envia?\");\n    console.log(filename[0]);\n    api.stopApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n    api.uploadFile(function (res) {\n      console.log(res);\n\n      if (res.result === \"ok\") {\n        setResponseString(`File Uploaded`);\n        setIsValid(true);\n        setTimeout(() => {\n          setIsValid(false);\n        }, 3000);\n      } else {\n        setResponseString(`File Upload Fail`);\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n        }, 3000);\n      }\n    }, props.device, \"nerves\", props.pass, filename[0]);\n    api.startApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac);\n    api.startApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n  }\n\n  function test(event) {\n    console.log(event.target.files[0].name);\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    backdrop: \"static\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Database\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    as: Col,\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    show: isValid,\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Alert, {\n    show: isError,\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"left\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Restore\"), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"dark\",\n    type: \"file\",\n    onChange: e => uploadFile(e.target.files),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"fileButton\",\n    type: \"file\",\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fileUploadButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, \"Image Upload\"), state.fileUploadState)))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: downloadFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Backup\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n}\n\nexport default Database;","map":{"version":3,"sources":["/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js"],"names":["React","useState","api","Col","Form","Alert","Modal","Button","Navbar","FormControl","Database","props","responseString","setResponseString","isValid","setIsValid","isError","setIsError","state","fileUploadState","uploadFile","filename","console","log","stopApp","res","device","pass","result","setTimeout","startApp","downloadFile","mac","test","event","target","files","name","e","fileUploadButton","onHide"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAEvB;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCb,KAAK,CAACC,QAAN,CAAe,EAAf,CAA5C,CAHuB,CAKvB;;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAMiB,KAAK,GAAG;AAAEC,IAAAA,eAAe,EAAE;AAAnB,GAAd;;AAEA,WAASC,UAAT,CAAoBC,QAApB,EAA8B;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,kDAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC,CAAD,CAApB;AACAnB,IAAAA,GAAG,CAACsB,OAAJ,CAAY,UAAUC,GAAV,EAAe;AACzBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAFD,EAEGd,KAAK,CAACe,MAFT,EAEiB,QAFjB,EAE2Bf,KAAK,CAACgB,IAFjC;AAGAzB,IAAAA,GAAG,CAACkB,UAAJ,CAAe,UAAUK,GAAV,EAAe;AAC5BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;;AACA,UAAIA,GAAG,CAACG,MAAJ,KAAe,IAAnB,EAAyB;AACvBf,QAAAA,iBAAiB,CAAE,eAAF,CAAjB;AACAE,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAc,QAAAA,UAAU,CAAC,MAAM;AACfd,UAAAA,UAAU,CAAC,KAAD,CAAV;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OAND,MAOK;AACHF,QAAAA,iBAAiB,CAAE,kBAAF,CAAjB;AACAI,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAY,QAAAA,UAAU,CAAC,MAAM;AACfZ,UAAAA,UAAU,CAAC,KAAD,CAAV;AACD,SAFS,EAEP,IAFO,CAAV;AAGD;AACF,KAhBD,EAgBGN,KAAK,CAACe,MAhBT,EAgBiB,QAhBjB,EAgB2Bf,KAAK,CAACgB,IAhBjC,EAgBuCN,QAAQ,CAAC,CAAD,CAhB/C;AAiBAnB,IAAAA,GAAG,CAAC4B,QAAJ,CAAa,UAAUL,GAAV,EAAe;AAC1BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAFD,EAEGd,KAAK,CAACe,MAFT,EAEiB,QAFjB,EAE2Bf,KAAK,CAACgB,IAFjC;AAGD;;AAED,WAASI,YAAT,GAAwB;AACtB7B,IAAAA,GAAG,CAACsB,OAAJ,CAAY,UAAUC,GAAV,EAAe;AACzBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAFD,EAEGd,KAAK,CAACe,MAFT,EAEiB,QAFjB,EAE2Bf,KAAK,CAACgB,IAFjC;AAGAzB,IAAAA,GAAG,CAAC6B,YAAJ,CAAiBpB,KAAK,CAACe,MAAvB,EAA+B,QAA/B,EAAyCf,KAAK,CAACgB,IAA/C,EAAqDhB,KAAK,CAACqB,GAA3D;AACA9B,IAAAA,GAAG,CAAC4B,QAAJ,CAAa,UAAUL,GAAV,EAAe;AAC1BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAFD,EAEGd,KAAK,CAACe,MAFT,EAEiB,QAFjB,EAE2Bf,KAAK,CAACgB,IAFjC;AAGD;;AAED,WAASM,IAAT,CAAcC,KAAd,EAAqB;AACnBZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBC,IAAlC;AACD;;AAED,sBACE,oBAAC,KAAD,oBACM1B,KADN;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,QAAQ,EAAC,QAHX;AAIE,uBAAgB,+BAJlB;AAKE,IAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOE,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,KAAP;AAAa,IAAA,EAAE,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAPF,eAYE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD,CAAQ,QAAR;AAAiB,IAAA,EAAE,EAAER,GAArB;AAA0B,IAAA,SAAS,EAAC,wBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEW,OAAb;AAAsB,IAAA,OAAO,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,cADH,CADF,eAIE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEI,OAAb;AAAsB,IAAA,OAAO,EAAC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,cADH,CAJF,eAOE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,KAAK,EAAC,MAAlB;AAAyB,IAAA,MAAM,MAA/B;AAAgC,IAAA,EAAE,EAAE,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,eAUE,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAC,MAArB;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,QAAQ,EAAG0B,CAAD,IAAOlB,UAAU,CAACkB,CAAC,CAACH,MAAF,CAASC,KAAV,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAYE;AAAO,IAAA,EAAE,EAAC,YAAV;AAAuB,IAAA,IAAI,EAAC,MAA5B;AAAmC,IAAA,MAAM,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,eAaE;AAAQ,IAAA,OAAO,EAAEG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbF,EAgBGrB,KAAK,CAACC,eAhBT,CADF,CADF,CADF,CAZF,eAsCE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,MAAhB;AAAuB,IAAA,OAAO,EAAEY,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,MAAhB;AAAuB,IAAA,OAAO,EAAEpB,KAAK,CAAC6B,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CAtCF,CADF;AA6CD;;AAED,eAAe9B,QAAf","sourcesContent":["import React, { useState } from 'react'\n\nimport api from \"./api\"\n\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Navbar from 'react-bootstrap/Navbar'\nimport FormControl from 'react-bootstrap/FormControl'\n\nfunction Database(props) {\n\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\")\n\n  //Alerts\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const state = { fileUploadState: \"\" }\n\n  function uploadFile(filename) {\n    console.log(\"Apoco si la envio asi na mas el nombre se envia?\")\n    console.log(filename[0])\n    api.stopApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n    api.uploadFile(function (res) {\n      console.log(res)\n      if (res.result === \"ok\") {\n        setResponseString(`File Uploaded`)\n        setIsValid(true)\n        setTimeout(() => {\n          setIsValid(false)\n        }, 3000);\n      }\n      else {\n        setResponseString(`File Upload Fail`)\n        setIsError(true)\n        setTimeout(() => {\n          setIsError(false)\n        }, 3000);\n      }\n    }, props.device, \"nerves\", props.pass, filename[0])\n    api.startApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac)\n    api.startApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n  }\n\n  function test(event) {\n    console.log(event.target.files[0].name);\n  }\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      backdrop=\"static\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Database\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Navbar >\n          <Navbar.Collapse as={Col} className=\"justify-content-center\">\n            <Form>\n              <Alert show={isValid} variant=\"success\">\n                {responseString}\n              </Alert>\n              <Alert show={isError} variant=\"danger\">\n                {responseString}\n              </Alert>\n              <Form.Label align=\"left\" column sm={3}>\n                Restore\n              </Form.Label>\n              <FormControl variant=\"dark\" type=\"file\" onChange={(e) => uploadFile(e.target.files)} />\n\n              <input id=\"fileButton\" type=\"file\" hidden />\n              <button onClick={fileUploadButton}>\n                Image Upload\n              </button>\n              {state.fileUploadState}\n\n\n            </Form>\n          </Navbar.Collapse>\n        </Navbar>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"dark\" onClick={downloadFile}>Backup</Button>\n        <Button variant=\"dark\" onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal >\n  );\n}\n\nexport default Database;"]},"metadata":{},"sourceType":"module"}