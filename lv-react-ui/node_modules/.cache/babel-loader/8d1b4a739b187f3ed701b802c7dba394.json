{"ast":null,"code":"var _jsxFileName = \"/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js\";\nimport React, { useState, useRef } from 'react';\nimport api from \"./api\";\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar';\nimport FormControl from 'react-bootstrap/FormControl';\n\nfunction Database(props) {\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\"); //Alerts\n\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const fileInputRef = useRef();\n\n  function uploadFile(filename) {\n    console.log(\"Apoco si la envio asi na mas el nombre se envia?\");\n    console.log(filename[0]);\n    api.stopApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n    api.uploadFile(function (res) {\n      console.log(res);\n\n      if (res.result === \"ok\") {\n        setResponseString(`File Uploaded`);\n        setIsValid(true);\n        setTimeout(() => {\n          setIsValid(false);\n        }, 3000);\n      } else {\n        setResponseString(`File Upload Fail`);\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n        }, 3000);\n      }\n    }, props.device, \"nerves\", props.pass, filename[0]);\n    api.startApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac);\n    api.startApp(function (res) {\n      console.log(res);\n    }, props.device, \"nerves\", props.pass);\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    backdrop: \"static\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Database\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    as: Col,\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    show: isValid,\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Alert, {\n    show: isError,\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, responseString), /*#__PURE__*/React.createElement(Form.Label, {\n    align: \"left\",\n    column: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Restore\"), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"dark\",\n    type: \"file\",\n    onChange: e => uploadFile(e.target.files),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => fileInputRef.current.click(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"Custom File Input Button\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    multiple: false,\n    ref: fileInputRef,\n    type: \"file\",\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: downloadFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Backup\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: props.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n}\n\nexport default Database;","map":{"version":3,"sources":["/home/hiram/github/hiram-repos/tryouts/lv-react-ui/src/Database.js"],"names":["React","useState","useRef","api","Col","Form","Alert","Modal","Button","Navbar","FormControl","Database","props","responseString","setResponseString","isValid","setIsValid","isError","setIsError","fileInputRef","uploadFile","filename","console","log","stopApp","res","device","pass","result","setTimeout","startApp","downloadFile","mac","e","target","files","current","click","handleChange","onHide"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\n\nimport api from \"./api\"\n\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Navbar from 'react-bootstrap/Navbar'\nimport FormControl from 'react-bootstrap/FormControl'\n\nfunction Database(props) {\n\n  //Response from yeico appliance\n  const [responseString, setResponseString] = React.useState(\"\")\n\n  //Alerts\n  const [isValid, setIsValid] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const fileInputRef = useRef();\n\n  function uploadFile(filename) {\n    console.log(\"Apoco si la envio asi na mas el nombre se envia?\")\n    console.log(filename[0])\n    api.stopApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n    api.uploadFile(function (res) {\n      console.log(res)\n      if (res.result === \"ok\") {\n        setResponseString(`File Uploaded`)\n        setIsValid(true)\n        setTimeout(() => {\n          setIsValid(false)\n        }, 3000);\n      }\n      else {\n        setResponseString(`File Upload Fail`)\n        setIsError(true)\n        setTimeout(() => {\n          setIsError(false)\n        }, 3000);\n      }\n    }, props.device, \"nerves\", props.pass, filename[0])\n    api.startApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n  }\n\n  function downloadFile() {\n    api.stopApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n    api.downloadFile(props.device, \"nerves\", props.pass, props.mac)\n    api.startApp(function (res) {\n      console.log(res)\n    }, props.device, \"nerves\", props.pass)\n  }\n\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      backdrop=\"static\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Database\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Navbar >\n          <Navbar.Collapse as={Col} className=\"justify-content-center\">\n            <Form>\n              <Alert show={isValid} variant=\"success\">\n                {responseString}\n              </Alert>\n              <Alert show={isError} variant=\"danger\">\n                {responseString}\n              </Alert>\n              <Form.Label align=\"left\" column sm={3}>\n                Restore\n              </Form.Label>\n              <FormControl variant=\"dark\" type=\"file\" onChange={(e) => uploadFile(e.target.files)} />\n\n              <button onClick={() => fileInputRef.current.click()}>\n                Custom File Input Button\n              </button>\n              <input onChange={handleChange} multiple={false} ref={fileInputRef} type='file' hidden />\n\n            </Form>\n          </Navbar.Collapse>\n        </Navbar>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"dark\" onClick={downloadFile}>Backup</Button>\n        <Button variant=\"dark\" onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal >\n  );\n}\n\nexport default Database;"]},"metadata":{},"sourceType":"module"}